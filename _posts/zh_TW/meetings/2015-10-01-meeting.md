---
title: 2015-10-01 IRC 會議摘要
permalink: /zh_TW/meetings/2015/10/01/
name: 2015-10-01-meeting
version: 1
type: meetings
layout: page
lang: zh_TW
---
{% include toc.html %}

## 日誌

完整的 IRC 日誌可以在[這裡](http://bitcoinstats.com/irc/bitcoin-dev/logs/2015/10/01#l1443726030.0)找到。

## 主要議題

- 記憶體池限制
- BIP68 + CHECKSEQUENCEVERIFY
- CLTV 軟分叉部署
- libconsensus 合併時間窗口


## 記憶體池限制

### 背景

當一筆交易在網路中傳播時，它會被節點保存在記憶體中，直到它進入區塊為止。所有這些存放在記憶體中的交易被稱為記憶體池（memorypool）或簡稱記憶體池（mempool）。
正如我們在垃圾攻擊期間所見，如果有大量無法進入區塊鏈的交易積壓，這個記憶體池可能會變得非常大，導致節點崩潰。

為了防止這種情況發生，開發者正在嘗試找到一種方法來限制這個記憶體池，也就是一種從記憶體池中拒絕和/或移除交易的機制。這裡最困難的部分是確保節點不會因為濫用這個機制而受到攻擊。

對此有多個已經提出的想法，即：

- [透過丟棄最便宜的交易並將最低傳播費用設置為該費用來限制記憶體池](https://github.com/bitcoin/bitcoin/pull/6722)
- [使用子孫套件追蹤來限制記憶體池](https://github.com/bitcoin/bitcoin/pull/6557)
- [指數上升的有效最低傳播費率](https://github.com/bitcoin/bitcoin/pull/6673)

### 會議評論

開發者傾向於 6722（丟棄最便宜的交易並將最低傳播費用設置為該費用），因為這是更簡單的方法，可能有更少的邊界情況。
其背後的想法是擁有一個記憶體池，能夠很好地估算將包含在下一個區塊中的內容，也就是更高費用的交易。
這種方法也有助於建立費用估算器。
一些開發者建議也包含基於時間的驅逐。


### 會議結論

應該完成 6722，並且其他人應該攻擊 6722、6557 和 6673，試圖找出邊界情況。
預設記憶體池大小應該為 300MB。


## 鏈限制

### 背景

在這個情境中，鏈是指連接的交易。當你發送一筆依賴於另一筆尚未確認的交易時，我們稱之為交易鏈。
理想情況下，礦工會考慮整個交易鏈，而不僅僅是每一筆單獨的交易（雖然據我所知這並未被廣泛實作）。因此，雖然單一交易可能沒有足夠的手續費，但一個依賴的交易可能有足夠高的手續費，使得挖取兩者都值得。
這通常被稱為子付父（child-pays-for-parent）。
由於你可以讓這些鏈變得非常大，因此可以通過這種方式堵塞記憶體池。
第一筆未確認的交易被稱為祖先，依賴於它的交易被稱為子孫。交易的總數量被稱為「套件」。

### 會議評論

如果你有更大的鏈限制，所有記憶體池限制方法都會更容易受到攻擊。
擁有更大子孫套件的原因是你無法自己控制這一點，某人付款給你和 bob，而 bob 鏈接了一百萬個子孫，最終他害了你。
如果你有一個 900kb 的祖先套件限制，那麼即使祖先費率相當高，預設的挖礦程式碼也可能會首先找到 100kb 的非常高費用交易來包含，然後就沒有空間容納你的祖先套件了。
Morcos 提議祖先為 25/250kb，子孫為 50/500kb，意思是祖先最多 25 筆交易或 250kb 大小。
大多數人對這些限制都覺得沒問題，甚至更小也可以。

### 會議結論

morcos 撰寫一個鏈限制提案發布到郵件列表上，以找出大型鏈交易的可能使用案例。



## CHECKLOCKTIMEVERIFY 軟分叉

### 背景

通常簡稱為：在你真正嘗試使用 nLockTime 之前，你以為它是如何運作的。
對此有相當多的需求，程式碼已經被審查並且已經在側鏈 alpha 上運行了 6 個月。
唯一真正的問題是它如何以及何時被合併。
目前軟分叉是通過 isSuperMajority 機制完成的，意思是當最後 X 個區塊中有 95% 的版本號高於 X 時，分叉就會被部署。
一種新的做法目前正在開發中，它使用版本號的所有位元，被恰當地稱為 versionbits。因此，分叉不是在版本大於（例如）00000000011（3）時發生，而是在（例如）第 3 位元被設置時發生（即 00100000011）。
這樣一來，軟分叉可以同時且獨立地部署。

### 會議評論

有問題提出我們是否要等待其他與時間相關的 BIP 和/或 versionbits，還是現在使用 isSuperMajority。
如果稍後部署 versionbits，它需要等待所有超級多數軟分叉結束。
Vladimir van der Laan 不希望在主要版本（在這種情況下是 0.12）中部署任何軟分叉，這樣人們就是明確為了軟分叉而升級，而不是為了其他東西。
你可以推出多個超級多數分叉，只要它們是累積的。
如果在十月底前準備好，談話似乎趨向於使用超級多數來部署 checkLockTimeVerify 和 checkSequenceVerify。

### 會議結論

需要審查 checkLockTimeVerify 的向後移植（在舊版本中的部署）以及 BIP68、112 和 113（所有與時間相關的 BIP）。


## Libconsensus

### 背景

中本聰不是最好的程式設計師，這留下了相當混亂的程式碼。理想情況下，你應該將影響網路共識的程式碼部分單獨分開，但在比特幣中它們都交織在一起。
Libconsensus 最終應該成為這一部分。這樣人們可以更容易地在非共識部分進行更改，而不用擔心造成網路分叉。
然而，這是一個緩慢且危險的專案，涉及移動大量程式碼。

### 會議評論

關於何時合併現有更改、何時為下一個版本凍結程式碼等，有很多討論。
在 linux 中，更改會在主要版本發布後立即合併。jtimon 注意到這也是在 0.10 和 0.11 之後計畫的，但什麼都沒有發生。
似乎缺乏關於什麼應該移到哪裡的規劃和概述。

### 會議結論

jtimon 將提供一個關於什麼以及事物應該移動到哪裡的高層次理由，以便人們可以根據這個理由進行評論和審查。

## 參與者

    dstadulis       Daniel Stadulis
    wumpus          Wladimir J. van der Laan
    morcos          Alex Morcos
    gmaxwell        Gregory Maxwell
    btcdrak         btcdrak
    jonasshnelli    Jonas Schnelli
    maaku           Mark Friedenbach
    sdaftuar        Suhas Daftuar
    sipa            Pieter Wuille
    BlueMatt        Matt Corallo
    CodeShark       Eric Lombrozo
    Luke-Jr         Luke Dashjr
    bsm117532       Bob McElrath
    jgarzik         Jeff Garzik

## 致謝

本摘要最初由 Stefan Gilis（別名「G1lius」）編寫並發布至 [bitcoin-dev 郵件列表][meetingsource]，並附有免責聲明：「請記住我不是開發者，所以有些內容可能不正確或完全錯誤。」版權歸公共領域所有。

[meetingsource]: http://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-October/011368.html
