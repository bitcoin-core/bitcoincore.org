---
title: IRC meeting summary for 2017-05-25
permalink: /zh_TW/meetings/2017/05/25/
name: 2017-05-25-meeting
type: meetings
layout: page
lang: zh_TW
version: 1
---
{% include toc.html %}

- [本週會議記錄](https://botbot.me/freenode/bitcoin-core-dev/2017-05-25/?msg=86142878&page=2)
- [Meeting minutes by meetbot](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-25-19.00.html)

---

## 註記 / 短議題

- Bitcoin Core 0.14.2 應該發布，其中包含手動啟用 UPnP 選項的使用者的安全修復，以及其他較小的錯誤修復。

## 主要議題

- 多錢包概念
- 變數命名風格
- BIP 148

## 多錢包概念

### 背景

Bitcoin Core 0.15 的一個新功能是同時處理多個獨立錢包的能力。Github 上有一個[專案頁面](https://github.com/bitcoin/bitcoin/projects/2)用於所有與多錢包支援相關的 PR 和議題。

### 會議意見

Jonasschnelli 有一些問題需要思考，即我們是否希望錢包創建/載入在軟體執行時進行，還是每次啟動時進行。長期來看我們應該兩者都要，但作為 0.15 的第一步，後者更現實。

另一個問題是 `-rescan`/`-zapwallettxes`/`-salvagewallet`/`-upgradewallet` 命令應該怎麼處理。Sipa 最初只會在配置了多個錢包時禁用 `-rescan`。理想情況下，我們將其移動到通過 RPC 的執行時，這樣命令將變成錢包特定的。Gmaxwell 認為 `-zapwallettxes` 和 `-salvagewallet` 最終應該消失，或者移動到另一個工具。Sipa 建議移除 `-zapwallettxes` 以支援 `abandontransaction`，用獨立工具替換 `-salvagewallet`，並讓 `-upgradewallet` 應用於所有錢包。Jonasschnelli 過去[開始進行][#8745]獨立錢包工具的工作，但遇到了循環依賴問題。Cfields 認為我們可以解決這個問題。

我們還應該考慮錢包旗標與新錢包資料庫的結合，Jonasschnelli 已經在[這裡](https://github.com/bitcoin/bitcoin/pull/9662/files#diff-b2bb174788c7409b671c46ccc86034bdR1357)實作了錢包旗標。旗標可以用來指示 HD 的使用、鏈分離等。由於 HD 鏈分離在 0.15 中不向後相容，理想情況下我們會放入我們進一步需要的所有東西，以避免在 0.16 中破壞向後相容性。

### 會議結論

- 確保在 0.15 中至少獲得基本的多錢包支援

## 變數命名風格

### 背景

在 Bitcoin Core 程式碼庫的歷史中使用了各種編碼風格，結果並不是很一致。已經努力使其更加統一，有一些[開發者指南](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md)，因此編碼風格將慢慢收斂到單一風格。

### 會議意見

Sipa 注意到幾個人編寫的補丁中的變數名稱看起來像[匈牙利](https://en.wikipedia.org/wiki/Hungarian_notation)表示法，但實際上不是。目前開發者註記中沒有指定任何約定，所以人們複製程式碼周圍的風格。為了讓人們停止模仿這種風格，應該在開發者註記中規定一種風格。Luke-jr 喜歡只在有新程式碼時進行風格變更的想法，避免大量只是重新命名變數的 PR。一個要做的選擇是使用 camelCase 還是 under_score。camelCase 的缺點是很容易與匈牙利表示法混淆。

大多數開發者希望有一些東西來識別全域和局部變數。Sipa 建議對局部變數使用小寫和底線，對成員使用 'm_'，對全域變數使用 'g_'。Wumpus 注意到方法名稱應該堅持 camelCase。

### 會議結論

- Sipa 將撰寫一個 PR 加入到開發者註記中，解釋變數名稱的新風格指南。
- 應該在註記中明確提到「不要試圖匹配附近的程式碼」。

## BIP 148

### 背景

[BIP148][] 是一個提案，通過在 2017 年 8 月 1 日設定一個標誌日來啟動 segwit，該日將拒絕不發出 segwit 信號的區塊，從而通過 BIP9 機制強制啟動 segwit。這個提案是對礦工阻止 segwit 啟動的不作為的回應，儘管技術社群、產業和使用者的廣泛支援。

### 會議意見

Sipa 認為將 BIP148 合併到 Core 中會違背 Core 專案的原則，因為它鼓勵網路中的分叉，而且推動共識變更不是我們的職責。在相關 PR 中已經進行了很多關於 BIP148 的討論，即 [#10417][]、[#10428][] 和 [#10442][] 以及[郵件列表](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-March/013714.html)。Luke-Jr 認為不包含它會使使用者面臨風險，因為將會由替代客戶端創建分叉，如果成功可能最終替換鏈。Gmaxwell 認為沒有廣泛的支援來證明這種立場。

Wumpus、BlueMatt、Jtimon、Gmaxwell 和 Morcos 更傾向於 [BIP149][] 而不是 BIP148。

Sipa 希望會有足夠的經濟支援，但預計每個經濟相關的完整節點都會在算力未能採用後幾小時內從 bip148 程式碼中撤回。

### 會議結論

- 只有在有足夠的經濟支援時才合併 BIP148。

## 幽默時刻

{% highlight text %}
wumpus           #topic variable naming style
cfields  would kill for m_ == member
luke-jr          pls don't kill


sipa             i'll write up a PR, and we discuss there further?
morcos           sounds good
gmaxwell         sipa to do all the work, agreed.
{% endhighlight %}

## 參與者

| IRC nick        | Name/Nym                  |
|-----------------|---------------------------|
| jonasschnelli   | [Jonas Schnelli][]        |
| sipa            | [Pieter Wuille][]         |
| cfields         | [Cory Fields][]           |
| luke-jr         | [Luke Dashjr][]           |
| kanzure         | [Bryan Bishop][]          |
| gmaxwell        | [Gregory Maxwell][]       |
| wumpus          | [Wladimir van der Laan][] |
| morcos          | [Alex Morcos][]           |
| sdaftuar        | [Suhas Daftuar][]         |
| jtimon          | [Jorge Timón][]           |
| BlueMatt        | [Matt Corallo][]          |
| petertodd       | [Peter Todd][]            |
| jcorgan         | [Johnathan Corgan][]      |
| paveljanik      | [Pavel Janik][]           |

## 免責聲明

本摘要是在沒有任何討論參與者輸入的情況下編寫的，因此任何錯誤都是摘要作者的責任，而非討論參與者。

[#8745]: https://github.com/bitcoin/bitcoin/pull/8745
[#10417]: https://github.com/bitcoin/bitcoin/pull/10417
[#10428]: https://github.com/bitcoin/bitcoin/pull/10428
[#10442]: https://github.com/bitcoin/bitcoin/pull/10442

{% include references.md %}
