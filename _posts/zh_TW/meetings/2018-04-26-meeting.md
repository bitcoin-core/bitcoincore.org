---
title: IRC meeting summary for 2018-04-26
permalink: /zh_TW/meetings/2018/04/26/
name: 2018-04-26-meeting
type: meetings
layout: page
lang: zh_TW
version: 1
---
{% include toc.html %}
{% include references.md %}

- [本週會議記錄連結](https://botbot.me/freenode/bitcoin-core-dev/msg/99439716/)或 [MeetBot](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-04-26-19.00.log.html)
- [MeetBot 會議記錄](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-04-19-19.00.html)

---

本週會議討論的主題包括：「高優先級審查」拉取請求是否獲得足夠的審查、專案成員希望審查者在下週重點關注的拉取請求、在升級 `bumpfee` RPC 時如何處理該 RPC 的特定參數，以及是否刪除 Bitcoin Core 預設停用的「安全模式」。

## 高優先級審查

**背景：** 每次會議，Bitcoin Core 開發者都會討論哪些拉取請求（PR）是會議參與者認為在接下來一週最需要審查的。其中一些 PR 是貢獻者特別希望在下一個版本中看到的程式碼相關；其他則是阻礙後續工作的 PR，或需要大量維護（重新基底）才能保持在待處理狀態的 PR。鼓勵任何有能力的審查者前往專案的[目前高優先級 PR 列表][current high-priority PRs]。

**討論（[記錄](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-04-26-19.00.log.html#l-16)）：** 在討論特定議題之前，Matt Corallo 提出了一個擔憂，「我們在『高優先級』列表上並沒有真正獲得任何審查，所以[我]不確定每週提出它的用處。」其他貢獻者同意列表上的項目在過去幾週內沒有收到太多審查，但許多評論似乎贊成保留該列表。這個主題沒有明確解決，但似乎該列表將至少再使用一週。

如前兩週會議摘要中所述，本次會議再次簡短提到了一些 GitHub 頁面無法載入（「獨角獸」）的問題。

會議期間討論的具體 PR 包括：

1. **將 validationinterface 拆分為平行的 validation/mempool 介面（[#12979][]）**，先前已新增到列表中。此 PR 將與驗證進入記憶池的交易相關的邏輯拆分為單獨的驗證和記憶池介面，使獲取有關記憶池的某些資訊變得更容易，並為 Bitcoin Core 費用估算器的潛在改進奠定基礎。

    Pieter Wuille 指出他「開始審查 #12979，但難以理解[它]。」此 PR 的作者 Corallo 說「這是一個純重構。它所做的只是移動東西。」Corallo 還提到它在高優先級列表上是因為它「阻礙了大約 10 件其他事情。」

1. **引入 `getblockstats` RPC 來[提供可用於]繪製圖表的資料（[#10757][]）**，先前由 Jorge Timón 提名。此 PR 新增了一個新的 RPC，回傳關於指定區塊的各種詳細資訊和統計資料。

    Anthony Towns 指出，此 PR 在上週收到了一些審查，但仍有一些小的未解決問題。

## bumpfee 的「totalFee」參數的必要性

**背景：** Bitcoin Core 提供了一個 `bumpfee` RPC，允許增加（「提升」）在使用者任何未確認交易上支付的交易費用，這些交易發出 [BIP125][] 選擇性取代費用（RBF）交易可替換性的訊號。預設情況下，此 RPC 會自行計算增加的金額，但它也允許使用者使用 `totalFee` 參數選擇性地指定要支付的新費用。

**討論（[記錄](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-04-26-19.00.log.html#l-87)）：** Gregory Sanders 提出了這個主題並詢問：「[`totalFee` 參數]需要嗎？[...] 我希望在不久的將來升級 RBF/CPFP [子為父付]，但它使[邏輯]複雜化以支援[此參數]。」

Anthony Towns 建議該參數（或替代品）可以改為用作使用者願意支付的費用上限，如果自動確定的增加值超過該上限，RPC 可能會出錯。

Sanders 進一步描述了他想要放棄該參數的動機：「我重做了 [`bumpfee`] 以使用 `CreateTransaction`，所以它會選擇更多的幣，這會改變大小。」換句話說，向替換交易新增更多輸入（幣）會使替換比原始交易更大，並需要支付額外的費用來覆蓋增加的大小——但使用者在使用特定 `totalFee` 參數呼叫 `bumpfee` 時不會知道這一點。

Luke Dashjr、Suhas Daftuar 和 Pieter Wuille 似乎都同意，在變更交易大小時，`totalFee` 似乎沒有意義。

**結論：** 沒有明確的結論。Sanders 透過建議他可以設計升級的 `bumpfee` 來結束主題，預設使用允許額外輸入的新行為，但在使用 `totalFee` 時選擇性地支援舊行為，其中不會新增額外的輸入，當目前的輸入不足以支付所需的費用增加時，RPC 將失敗。那將是「向後相容而沒有額外的累贅。」

## 刪除安全模式

**背景：** Bitcoin Core 軟體的早期版本（當時稱為「Bitcoin」）引入了「安全模式」，該模式在網路中斷期間停用某些 RPC，以嘗試防止使用者損失金錢。觸發安全模式的標準多年來已經改變，新的 RPC 很少新增到在安全模式下停用的列表中，最終 Bitcoin Core 0.16 預設停用了安全模式。

**討論（[記錄](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-04-26-19.00.log.html#l-129)）：** Wladimir van der Laan 提出了這個主題，參考了 Andrew Chow 的 PR [#10563][]，Van der Laan 將其重新基底為 PR [#13090][]，並詢問：「自 0.16 以來安全模式已被停用；我們應該為 0.17 完全刪除它嗎？」

幾位貢獻者表示他們不知道有人在使用它，並且認為它目前並不有用。Pieter Wuille 說：「無論如何，停用 RPC 不是 Bitcoin 生態系統處理緊急情況的方式——許多基礎設施甚至不會注意到。」

Van der Laan 指出，Bitcoin Core 將繼續提供 `-alertnotify` 啟動參數，可用於在安全模式本來會啟動時執行任意指令碼。Luke Dashjr 建議 `-alertnotify` 可以與提議的即將推出的 RPC `walletunload` 一起使用，以在緊急情況下停用錢包；這將類似於（並且可能優於）目前的安全模式設計。

**結論：** 儘管一些參與者希望 Bitcoin Core 能夠更好地檢測破壞性網路條件，並能自動做一些事情來幫助使用者避免損失金錢，但所有參與者似乎都贊成刪除目前不支援的安全模式系統。會議結束後，#13090 被合併以從開發分支中刪除安全模式。

注意，在討論刪除安全模式期間，將 `-alertnotify` 與提議的新 RPC `walletunload` 結合使用的建議被誤解為討論目前正在進行的 `walletunload` 工作的請求。這就是為什麼「walletunload」在 MeetBot 會議摘要中顯示為主題，儘管它沒有被直接討論。

## 小主題

一個簡短討論的主題是自 Cory Fields 於一月向郵件列表發送[電子郵件](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-January/015542.html)以來，Bitcoin Core 二進位檔案簽署憑證的更新。在該電子郵件中，Fields 說 Gregory Maxwell 正在致力於「建立一個新的門檻簽署方案，這將允許我們處理程式碼簽署而沒有任何單點故障。」由於 Maxwell 未出席會議，因此沒有可用的更新。

## 幽默時刻

{% highlight text %}
<wumpus>  #topic walletunload (Lukejr)
<LukeJr>  wumpus: I wasn't suggesting it as a topic
<wumpus>  LukeJr: oh...
  <sipa>  #unload walletunload
<wumpus>  #untopic
{% endhighlight %}

## 參與者

| IRC 暱稱        | 姓名/化名                  |
|-----------------|---------------------------|
| wumpus          | [Wladimir van der Laan][] |
| instagibbs      | [Gregory Sanders][]       |
| BlueMatt        | [Matt Corallo][]          |
| luke-jr         | [Luke Dashjr][]           |
| sipa            | [Pieter Wuille][]         |
| sdaftuar        | [Suhas Daftuar][]         |
| jonasschnelli   | [Jonas Schnelli][]        |
| achow101        | [Andrew Chow][]           |
| aj              | [Anthony Towns][]         |
| promag          | [Joao Barbosa][]          |
| fanquake        | [Michael Ford][]          |
| jamesob         | [James O'Beirne][]        |
| jtimon          | [Jorge Timón][]           |
| cfields         | [Cory Fields][]           |
| kanzure         | [Bryan Bishop][]          |

## 免責聲明

本摘要是在沒有討論參與者任何輸入的情況下編譯的，因此任何錯誤都是摘要作者的責任，而不是討論參與者的責任。

[#12979]: https://github.com/bitcoin/bitcoin/issues/12979
[#10757]: https://github.com/bitcoin/bitcoin/issues/10757
[#10563]: https://github.com/bitcoin/bitcoin/issues/10563
[#13090]: https://github.com/bitcoin/bitcoin/issues/13090
[current high-priority PRs]: https://github.com/bitcoin/bitcoin/projects/8
