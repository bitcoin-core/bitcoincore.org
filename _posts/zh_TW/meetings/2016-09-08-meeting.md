---
title: IRC meeting summary for 2016-09-08
permalink: /zh_TW/meetings/2016/09/08/
name: 2016-09-08-meeting
type: meetings
layout: page
lang: zh_TW
version: 1
---
{% include toc.html %}

- [本週會議記錄連結](https://botbot.me/freenode/bitcoin-core-dev/2016-09-08/?msg=72705189&page=3)
- [Meeting minutes by meetbot](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-08-18.59.html)

---

## 筆記 / 簡短議題

- 在米蘭 [scaling bitcoin 會議](https://scalingbitcoin.org/milan2016/)之後，10 月 10 日星期一和 11 日星期二將舉行 2 天的駭客日，更多資訊和註冊將隨後發布。
- 有一個 [0.13.1 的 PR 隊列](https://github.com/bitcoin/bitcoin/milestones/0.13.1)，鼓勵審查。

## 主要議題

- segwit-compact blocks BIP
- 選擇 segwit 推出日期
- rpc 同步假設

## segwit-compact blocks BIP

### 背景

[BIP152][]：「Compact block relay」是 0.13.0 中引入的功能，用於透過使用應該在節點記憶體池中的交易的短交易 ID 來減少區塊中繼期間使用的頻寬。作為副作用，這也導致減少區塊傳輸延遲。

開發者現在正在開發 compact blocks 的版本 2，它與版本 1 幾乎相同，但支援隔離見證交易。對 BIP 文件的變更提案在[這裡](https://github.com/bitcoin/bips/pull/423)。

### 會議討論

Gmaxwell 一直在進行一些測試。一旦他獲得更大的測試設定，他將呼籲人們在測試網上建立更多 segwit 交易，因為目前沒有很多。

對提議的 BIP 文件的最新提交將「cmpctack」訊息添加到協定中。這的優點是你可以在不實施發送該編碼的情況下實施接收某個版本的 compactblocks，並且稍微簡化協定。這是以稍微複雜化實施為代價的。如果我們不預期添加超過一個或更多版本，這絕對不值得，但是如果我們預期在某個時候推出 compact blocks 版本 4、5、6，這可能值得。

Gmaxwell 指出雖然清理是可以的，但在某些時候更好的升級是引入一個單獨的機制並放棄舊的機制，而不是永遠擴展它，因為那會產生大量技術債務。

### 會議結論

- 會議後進一步討論所有選項

## 選擇 segwit 推出日期

### 背景

隔離見證（segwit）允許將交易簽名資料儲存在用於產生交易識別碼的雜湊資料之外，移除所有已知形式的第三方延展性，允許完整節點在不下載所有簽名的情況下編譯當前的 UTXO 集，並為欺詐證明奠定基礎，使輕量級（SPV）客戶端能夠協助執行更多共識規則。segwit 軟分叉還允許礦工用 4 位元組的 segwit 資料替代 1 位元組的區塊空間，為使用 segwit 的錢包增加交易容量。隔離見證 BIP：[BIP141][]、[BIP142][]、[BIP143][]、[BIP144][] 和 [BIP145][]

隔離見證程式碼已在 0.13.0 中引入，並在測試網上啟用。

### 會議討論

Gmaxwell 一直在詢問一些分叉關於它們圍繞 segwit 的實施時程表，回應基本上是「在網路中部署之後」。

鑑於 0.13.1 有相當多的工作要做，很難提出推出日期。

Achow101 想知道 segwit 是否會反向移植到 0.12。如 [2016/07/14 會議](/zh_TW/meetings/2016/07/14/#segwit-反向移植)中討論的，不會有 0.12 反向移植，因為它沒有收到要求反向移植的回饋。

### 會議結論

- 除非我們有信心，否則不要引入時程表
- 不要將 segwit 反向移植到 0.12

## rpc 同步假設

### 背景

如 [2016/09/01 會議](/zh_TW/meetings/2016/09/01/#筆記--簡短議題)中簡要討論的，當錢包尚未完成處理交易時，存在競爭條件，在 getblockcount/getbestblockhash 回傳新值之前，因此餘額可能不代表該區塊的準確狀態。

### 會議討論

一些開發者不認為這是錯誤，因為未確認的交易可以隨時出現，與任何區塊無關。如果在錢包處理交易時變更餘額被視為錯誤，它也應該適用於所有其他狀態，例如交易列表。

其他開發者認為這是 API 的變更，將破壞一些 RPC 客戶端，而使錢包餘額呼叫等待它們自己的時間，直到錢包報告的高度與 chainactive 高度匹配，不需要所有使用者審核他們的程式碼庫。

未來錢包區塊處理應該移到背景執行緒。

### 會議結論

- 建立關於問題的議題（[會議後完成](https://github.com/bitcoin/bitcoin/issues/8692)）。
- 合併快速修復（[#8680][]）以解決 travis 失敗
- 在會議外進一步討論

## 趣味環節

{% highlight text %}
BlueMatt          topic: sing morcos happy birthday
luke-jr           morcos: happy birthday https://www.youtube.com/watch?v=dQw4w9WgXcQ

wumpus            happy birthday morcos
kanzure           wumpus: no doxxing :)
petertodd         kanzure: happy birthday to anyone who considers themselves born on this date
kanzure           much better.

btcdrak           unless you are happy with bigger blocks being relayed without it...
btcdrak           anyway. weeds.
sipa              yes, weeds
wumpus            weeds?
sipa              wumpus: "we're getting into the weeds"
wumpus            ohh
CodeShark         in the Netherlands that might have a different meaning ;)
{% endhighlight %}

## 與會者

| IRC nick        | Name/Nym                  |
|-----------------|---------------------------|
| sipa            | [Pieter Wuille][]         |
| gmaxwell        | [Gregory Maxwell][]       |
| wumpus          | [Wladimir van der Laan][] |
| btcdrak         | [BtcDrak][]               |
| kanzure         | [Bryan Bishop][]          |
| cfields         | [Cory Fields][]           |
| petertodd       | [Peter Todd][]            |
| jonasschnelli   | [Jonas Schnelli][]        |
| CodeShark       | [Eric Lombrozo][]         |
| luke-jr         | [Luke Dashjr][]           |
| instagibbs      | [Gregory Sanders][]       |
| jeremyrubin     | [Jeremy Rubin][]          |
| sdaftuar        | [Suhas Daftuar][]         |
| BlueMatt        | [Matt Corallo][]          |
| achow101        | [Andrew Chow][]           |
| morcos          | [Alex Morcos][]           |
| jl2012          | [Johnson Lau][]           |

## 免責聲明

本摘要由未參與討論的人編撰，因此任何錯誤均為摘要作者的責任，而非討論參與者的責任。

[#8680]: https://github.com/bitcoin/bitcoin/pull/8680

{% include references.md %}
