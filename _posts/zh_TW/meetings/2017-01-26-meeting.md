---
title: IRC meeting summary for 2017-01-26
permalink: /zh_TW/meetings/2017/01/26/
name: 2017-01-26-meeting
type: meetings
layout: page
lang: zh_TW
version: 1
---
{% include toc.html %}

- [本週日誌連結](https://botbot.me/freenode/bitcoin-core-dev/2017-01-26/?msg=79993062&page=2)
- [會議紀錄（meetbot 版本）](http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-01-26-19.00.html)

---

## 主要議題

- 程式碼風格
- 0.14 的錯誤修復
- 我們對中繼收費是否足夠？

## 程式碼風格

### 背景

程式碼的風格一致性有一些好處：
- 它有助於新來者的貢獻，因為這讓他們更容易確保他們的工作在風格方面是可以的。
- 它簡化了審查，因為統一性創造了更好的期望，然而重新格式化會使查看歷史記錄更加困難，這損害了審查。
- 良好的風格選擇有時已被證明可以降低軟體的缺陷率，但對於哪些選擇是好的並沒有普遍的意見。

### 會議評論

我們目前不要求人們堅持特定的程式碼風格，這導致人們想知道在哪裡使用哪種風格。目前模仿周圍程式碼的建議實際上無助於使程式碼庫收斂。

如果我們都在每個修補程式上使用 [clang-format](https://github.com/bitcoin/bitcoin/blob/master/src/.clang-format)，最終我們會收斂。[Clang-format-diff.py](https://github.com/bitcoin/bitcoin/blob/5cf3c60fccb198c16819fcf8a0c5635b5b630496/contrib/devtools/clang-format-diff.py) 是一個自動執行此操作的工具。

Jonasschnelli 曾經提議在 Travis 之外進行 CI 檢查，以檢查 clang 風格，但每個人都反對。BlueMatt 反對 CI 檢查，但贊成使用機器人自動開啟 PR，修復最近損壞的 PR 的 clang 風格。Wumpus 不希望僅僅因為風格問題而延遲 PR。

僅移動的提交可能不應該更改風格，否則將更難審查它是否真的只是移動。

Gmaxwell 的經驗是，像程式碼風格挑剔這樣的小事會改善開發團隊的士氣。這是一個互相幫助的機會，非常簡單明確，而不是「請完全重新設計你的修補程式」。

### 會議結論

- 能夠在 PR 中指出與[風格指南](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md)衝突的風格問題。
- 盡可能在提交修補程式之前使用 [Clang-format-diff.py](https://github.com/bitcoin/bitcoin/blob/5cf3c60fccb198c16819fcf8a0c5635b5b630496/contrib/devtools/clang-format-diff.py)。
- 不要在僅移動的提交中更改風格

## 0.14 的錯誤修復

### 背景

Bitcoin Core 0.14 [預定][#8719]於 2017 年 3 月左右發布。針對 0.14 的開放 pull request 已[標記 0.14 標籤](https://github.com/bitcoin/bitcoin/pulls?q=is%3Aopen+is%3Apr+milestone%3A0.14.0)。

### 會議評論

Morcos 指出他的 [#9615][]（錢包增量手續費）需要 0.14 標籤，sdaftuar 有一兩個小修復即將到來。[#9615][] 分離了錢包的預設增量值和中繼預設增量手續費，這是防止如果 incrementalRelayFee 增加時 bumpfee 出現問題所必需的。

目前 0.14 的開放 PR 有：[#9638][] [#9626][] [#9622][] [#9609][] [#9589][] [#9108][]

在 0.14 中將發布 bumpfee。Gmaxwell 提議查看 GreenAddress 和 Electrum 正在做什麼，因為他們都在生產環境中有 bumpfee，看看他們是否發現了我們遺漏的任何東西。他自願檢查 GreenAddress。

### 會議結論

- 標記 [#9615][]（錢包增量手續費）

## 我們對中繼收費是否足夠？

### 背景

目前「incrementalRelayFee」，它設定記憶體池限制或[選擇性手續費替換](/en/faq/optin_rbf/)替換的最低費率增加，設定為每位元組 1 聰。

Morcos 認為這太低了，網路中繼交易的「成本」高於每位元組 1 聰，並且對 bumpfee 和記憶體池限制有那麼高的精度沒有足夠的好處。

### 會議評論

當聽到 petertodd 談論他如何循環按 bumpfee 時，Morcos 意識到我們允許對 1 個被挖掘的交易進行太多中繼。有兩種方法可以改進：提高「incrementalRelayFee」，並使我們自己的程式碼的行為在預設情況下不會導致這種荒謬的中繼迭代，如果人們想要進行定期增量。

Gmaxwell 認為提高限制會切斷在不太瘋狂的時間內確認的交易，因此中繼成本不會太高。BlueMatt 補充說，他上週末很容易確認了每位元組 0.1 聰的交易，並認為現在討論提高它為時過早。

Gmaxwell 還指出，在有記憶體池限制之前和 createNewBlock 快速之前，礦工提高 minRelayTxFee 的一些遺留問題。因此，在得出每位元組 1 聰不會確認的結論之前，首先重新命名參數以使人們重新考慮或返回預設值可能是明智的。此外，隔離見證可能會使手續費行為回到功能失調的狀態。

### 會議結論

- 在發布說明中宣布 minRelayTxFee 將被重新命名，並鼓勵人們移除它。

## 參與者

| IRC nick        | Name/Nym                  |
|-----------------|---------------------------|
| sipa            | [Pieter Wuille][]         |
| jonasschnelli   | [Jonas Schnelli][]        |
| instagibbs      | [Gregory Sanders][]       |
| kanzure         | [Bryan Bishop][]          |
| BlueMatt        | [Matt Corallo][]          |
| cfields         | [Cory Fields][]           |
| wumpus          | [Wladimir van der Laan][] |
| morcos          | [Alex Morcos][]           |
| jtimon          | [Jorge Timón][]           |
| MarcoFalke      | [Marco Falke][]           |
| achow101        | [Andrew Chow][]           |
| gmaxwell        | [Gregory Maxwell][]       |
| paveljanik      | [Pavel Janik][]           |

## 免責聲明

本摘要由未參與討論的人員編譯，因此任何錯誤都是摘要作者的責任，而非討論參與者的責任。

[#9615]: https://github.com/bitcoin/bitcoin/pull/9615
[#9638]: https://github.com/bitcoin/bitcoin/pull/9638
[#9626]: https://github.com/bitcoin/bitcoin/pull/9626
[#9622]: https://github.com/bitcoin/bitcoin/pull/9622
[#9609]: https://github.com/bitcoin/bitcoin/pull/9609
[#9108]: https://github.com/bitcoin/bitcoin/pull/9108
[#9589]: https://github.com/bitcoin/bitcoin/pull/9589
[#8719]: https://github.com/bitcoin/bitcoin/issues/8719

{% include references.md %}
